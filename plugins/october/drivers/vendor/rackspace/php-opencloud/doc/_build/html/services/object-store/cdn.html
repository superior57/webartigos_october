

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CDN Containers &mdash; php-opencloud 1.12.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="php-opencloud 1.12.1 documentation" href="../../index.html"/>
        <link rel="up" title="Object Store v1" href="index.html"/>
        <link rel="next" title="Migrating containers across regions" href="migrating-containers.html"/>
        <link rel="prev" title="Objects" href="objects.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../index.html" class="fa fa-home"> php-opencloud</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../autoscale/index.html">Auto Scale v2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../autoscale/index.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autoscale/index.html#operations">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autoscale/index.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autoscale/index.html#further-links">Further Links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../compute/index.html">Compute v2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../compute/index.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../compute/index.html#operations">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../compute/index.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../compute/index.html#further-links">Further Links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Databases v1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/index.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/index.html#operations">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/index.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/index.html#further-links">Further Links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dns/index.html">DNS v1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dns/index.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dns/index.html#operations">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dns/index.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dns/index.html#further-links">Further Links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../identity/index.html">Identity v2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../identity/index.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../identity/index.html#operations">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../identity/index.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../identity/index.html#further-links">Further Links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../image/index.html">Images v1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../image/index.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../image/index.html#operations">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../image/index.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../image/index.html#further-links">Further Links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../load-balancer/index.html">Load Balancer v1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../load-balancer/index.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../load-balancer/index.html#operations">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../load-balancer/index.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../load-balancer/index.html#further-links">Further Links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../monitoring/index.html">Monitoring v1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../monitoring/index.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../monitoring/index.html#operations">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../monitoring/index.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../monitoring/index.html#further-links">Further links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../networking/index.html">Networking v2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html#operations">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html#further-links">Further links</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Object Store v1</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#setup">Setup</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#operations">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#further-links">Further links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../orchestration/index.html">Orchestration v1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../orchestration/index.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../orchestration/index.html#operations">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../orchestration/index.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../orchestration/index.html#further-links">Further links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../queues/index.html">Queues v1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../queues/index.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../queues/index.html#operations">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../queues/index.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../queues/index.html#further-links">Further links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../volume/index.html">Volumes v1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../volume/index.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../volume/index.html#operations">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../volume/index.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../volume/index.html#further-links">Further links</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../debugging.html">Debugging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../debugging.html#strategy-1-meaningful-exception-handling">Strategy 1: Meaningful exception handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../debugging.html#strategy-2-wire-logging">Strategy 2: Wire logging</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../caching-creds.html">Caching credentials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../caching-creds.html#filesystem-example">Filesystem example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../iterators.html">Iterators</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../iterators.html#common-behaviour">Common behaviour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../iterators.html#very-important-note">Very important note</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../iterators.html#using-paginated-collections">Using paginated collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../iterators.html#setting-up-a-paginatediterator">Setting up a PaginatedIterator</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../regions.html">Rackspace regions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../url-types.html">URL types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../url-types.html#internalurl">internalURL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../url-types.html#publicurl">publicURL</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../logging.html">Logging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../logging.html#logger-injection">Logger injection</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../http-clients.html">HTTP Clients</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../http-clients.html#default-http-headers">Default HTTP headers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../http-clients.html#user-agents">User agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../http-clients.html#other-functionality">Other functionality</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../auth.html">Authentication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../auth.html#service-catalog">Service Catalog</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">php-opencloud</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Object Store v1</a> &raquo;</li>
      
    <li>CDN Containers</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/services/object-store/cdn.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="cdn-containers">
<h1>CDN Containers<a class="headerlink" href="#cdn-containers" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This feature is only available to Rackspace users.</p>
</div>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>In order to interact with CDN containers, you first need to instantiate a
CDN service object:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$cdnService</span> <span class="o">=</span> <span class="nv">$service</span><span class="o">-&gt;</span><span class="na">getCdnService</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="list-cdn-enabled-containers">
<h2>List CDN-enabled containers<a class="headerlink" href="#list-cdn-enabled-containers" title="Permalink to this headline">¶</a></h2>
<p>To list CDN-only containers, follow the same operation for Storage which
lists all containers. The only difference is which service object you
execute the method on:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$cdnContainers</span> <span class="o">=</span> <span class="nv">$cdnService</span><span class="o">-&gt;</span><span class="na">listContainers</span><span class="p">();</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$cdnContainers</span> <span class="k">as</span> <span class="nv">$cdnContainer</span><span class="p">)</span> <span class="p">{</span>
  <span class="sd">/** @var $cdnContainer OpenCloud\ObjectStore\Resource\CDNContainer */</span>
<span class="p">}</span>
</pre></div>
</div>
<p><a class="reference external" href="https://raw.githubusercontent.com/rackspace/php-opencloud/master/samples/ObjectStore/list-cdn-containers.php">Get the executable PHP script for this example</a></p>
</div>
<div class="section" id="cdn-enable-a-container">
<h2>CDN-enable a container<a class="headerlink" href="#cdn-enable-a-container" title="Permalink to this headline">¶</a></h2>
<p>Before a container can be CDN-enabled, it must exist in the storage
system. When a container is CDN-enabled, any objects stored in it are
publicly accessible over the Content Delivery Network by combining the
container&#8217;s CDN URL with the object name.</p>
<p>Any CDN-accessed objects are cached in the CDN for the specified amount
of time called the TTL. The default TTL value is 259200 seconds, or 72
hours. Each time the object is accessed after the TTL expires, the CDN
refetches and caches the object for the TTL period.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$container</span><span class="o">-&gt;</span><span class="na">enableCdn</span><span class="p">();</span>
</pre></div>
</div>
<p><a class="reference external" href="https://raw.githubusercontent.com/rackspace/php-opencloud/master/samples/ObjectStore/enable-container-cdn.php">Get the executable PHP script for this example</a></p>
</div>
<div class="section" id="cdn-disable-a-container">
<h2>CDN-disable a container<a class="headerlink" href="#cdn-disable-a-container" title="Permalink to this headline">¶</a></h2>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$container</span><span class="o">-&gt;</span><span class="na">disableCdn</span><span class="p">();</span>
</pre></div>
</div>
<p><a class="reference external" href="https://raw.githubusercontent.com/rackspace/php-opencloud/master/samples/ObjectStore/disable-container-cdn.php">Get the executable PHP script for this example</a></p>
</div>
<div class="section" id="operations-on-cdn-enabled-containers">
<h2>Operations on CDN-enabled containers<a class="headerlink" href="#operations-on-cdn-enabled-containers" title="Permalink to this headline">¶</a></h2>
<p>Once a container has been CDN-enabled, you can retrieve it like so:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$cdnContainer</span> <span class="o">=</span> <span class="nv">$cdnService</span><span class="o">-&gt;</span><span class="na">cdnContainer</span><span class="p">(</span><span class="s1">&#39;{containerName}&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="section" id="retrieve-the-ssl-url-of-a-cdn-container">
<h3>Retrieve the SSL URL of a CDN container<a class="headerlink" href="#retrieve-the-ssl-url-of-a-cdn-container" title="Permalink to this headline">¶</a></h3>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$cdnContainer</span><span class="o">-&gt;</span><span class="na">getCdnSslUri</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="retrieve-the-streaming-url-of-a-cdn-container">
<h3>Retrieve the streaming URL of a CDN container<a class="headerlink" href="#retrieve-the-streaming-url-of-a-cdn-container" title="Permalink to this headline">¶</a></h3>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$cdnContainer</span><span class="o">-&gt;</span><span class="na">getCdnStreamingUri</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="retrieve-the-ios-streaming-url-of-a-cdn-container">
<h3>Retrieve the iOS streaming URL of a CDN container<a class="headerlink" href="#retrieve-the-ios-streaming-url-of-a-cdn-container" title="Permalink to this headline">¶</a></h3>
<p>The Cloud Files CDN allows you to stream video to iOS devices without
needing to convert your video. Once you CDN-enable your container, you
have the tools necessary for streaming media to multiple devices.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$cdnContainer</span><span class="o">-&gt;</span><span class="na">getIosStreamingUri</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="cdn-logging">
<h3>CDN logging<a class="headerlink" href="#cdn-logging" title="Permalink to this headline">¶</a></h3>
<p>To enable and disable logging for your CDN-enabled container:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$cdnContainer</span><span class="o">-&gt;</span><span class="na">enableCdnLogging</span><span class="p">();</span>
<span class="nv">$cdnContainer</span><span class="o">-&gt;</span><span class="na">disableCdnLogging</span><span class="p">();</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="purge-cdn-enabled-objects">
<h2>Purge CDN-enabled objects<a class="headerlink" href="#purge-cdn-enabled-objects" title="Permalink to this headline">¶</a></h2>
<p>To remove a CDN object from public access:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$object</span><span class="o">-&gt;</span><span class="na">purge</span><span class="p">();</span>
</pre></div>
</div>
<p>You can also provide an optional e-mail address (or comma-delimeted list
of e-mails), which the API will send a confirmation message to once the
object has been completely purged:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$object</span><span class="o">-&gt;</span><span class="na">purge</span><span class="p">(</span><span class="s1">&#39;jamie.hannaford@rackspace.com&#39;</span><span class="p">);</span>
<span class="nv">$object</span><span class="o">-&gt;</span><span class="na">purge</span><span class="p">(</span><span class="s1">&#39;hello@example.com,hallo@example.com&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="migrating-containers.html" class="btn btn-neutral float-right" title="Migrating containers across regions"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="objects.html" class="btn btn-neutral" title="Objects"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Jamie Hannaford, Shaunak Kashyap.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.12.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>